### Предлагается реализовать веб-сервис для обработки данных. 

### Контекст задачи:

- у нас есть пользователи от которых мы получаем некоторые данные
- мы получаем данные каждый день, таким образом каждая точка данных соответствует некоторой дате
- в рамках этой задачи будем считать что все данные имеют тип float
- в результате сбора данных мы имеем массивы вида [{"date": ..., "value": ...}, {"date": ..., "value": ...}, ...]
- видов (например шаги, средняя частота пульса и тп) данных может быть много, в рамках этой задачи будем считать, что они однозначно различаются по строковому названию (см. примеры запросов к АПИ ниже)
- как данные попадают к нам и как они технически храняться - за рамками данной задачи

### ТЗ выглядит следующим образом:

- Реализовать HTTP веб-сервис. Сервис должен предоставлять HTTP API с помощью которого можно посчитать корреляцию по Пирсону между 2 векторами данных разных типов
- При расчете корреляции требуется сопоставить потоки между собой с учетом дат, то есть мы "сравниваем" два показателя за одну и ту же дату, а не как попало
- Полученные результаты должны сохраняться в базу данных.
- Данные сохраненные в БД также должны быть впоследствии доступны в через API.

### API
- **POST /calculate**

    Принимает входные данные в JSON-формате:
```
    {
        "user_id": int,
        "data": {
            "x_data_type": str,
            "y_data_type": str,
            "x": [
                {
                    "date": YYYY-MM-DD,
                    "value": float,
                },
                ...
            ],
            "y": [
                {
                    "date": YYYY-MM-DD,
                    "value": float,
                },
                ...
            ]
        }
    }
```

- **GET /correlation?x_data_type=str&y_data_type=str&user_id=int**

   - Отдает посчитанную метрику для конкретного пользователя и конкретных типов данных
   - Если для данной комбинации рассчитанных данных нет - возвращает 404

   Формат ответа в случае HTTP 200:
```
   {
       "user_id": int,
       "x_data_type": str,
       "y_data_type": str,
       "correlation": {
           "value": float,
           "p_value": float,
       }
   }
```
   
### Необходимые допущения при реализации

- данные могут быть кривые - пропуски, неверный тип и тд (к сожалению реальный мир жесток и враждебен :))
- для одной комбинации пользователь - тип данных A - тип данных Б может быть несколько расчетов, в таком случае просто обновляем метрику на основе последнего расчета, с версиями заморачиваться не нужно, все таки задача тестовая

### Минимальные требования:

- язык Python (HTTP фреймворк любой, обоснованный выбор - плюс вам)
- PEP8
- данные хранятся персистентно в рамках сервиса (БД любая, обоснованный выбор - плюс вам)
- сборка через docker compose: отдельно БД, отдельно сервис
- наличие README.md с минимально необходимыми инструкциями для запуска сервиса в Docker
- результат - это ссылка на github репозиторий

### Будет совсем хорошо если:

- расчет производится в фоновых процессах через очереди (не блокирует АПИ)
- все это дело покрыто тестами
- есть авторизация через токены

### Если что-то неочевидно / непонятно:

- руководствуйтесь здравым смыслом
- если вы что-то сделаете по-своему (на основании собственных допущений), но, опять же, это будет обоснованно и логично - это не минус, это часто наоборот плюс
- если необходимо, можно написать нашему рекрутеру Дарье в Telegram - @mentafres
